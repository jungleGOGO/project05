<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <title>신고하기</title>
    <th:block th:insert="~{layout/head :: head}"></th:block>
</head>
<body>
<div style="margin:20px;">
<div>

    <h4>게시글을 신고하는 이유를 선택해주세요.</h4>
</div>
    <div class="form-check">
        <input class="form-check-input" name="reason" type="radio" value="허위/거짓 정보를 포함하고 있어요." id="flexCheckDefault1" >
        <label class="form-check-label" for="flexCheckDefault1">
            허위/거짓 정보를 포함하고 있어요.
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" name="reason" type="radio" value="선정적인 내용을 포함하고 있어요." id="flexCheckDefault2">
        <label class="form-check-label" for="flexCheckDefault2">
            선정적인 내용을 포함하고 있어요.
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input"  name="reason" type="radio" value="광고 내용과 연관없는 이미지를 사용하고 있어요." id="flexCheckDefault3" >
        <label class="form-check-label" for="flexCheckDefault3">
            광고 내용과 연관없는 이미지를 사용하고 있어요.
        </label>
    </div>
    <div class="form-check">
        <input class="form-check-input" name="reason" type="radio" value="욕설/비방/혐오 내용이 포함되어 있어요." id="flexCheckDefault6" >
        <label class="form-check-label" for="flexCheckDefault6">
            욕설/비방/혐오 내용이 포함되어 있어요.
        </label>
    </div>
    <div class="mb-3">
        <input class="form-check-input" name="reason" type="radio" value="" style="display: none;">
        <textarea name="reason" class="form-control" placeholder="내용 입력" rows="8" cols="100" maxlength="300"></textarea>
    </div>
    <div style="margin-top: 30px;">
        <input type="hidden" name="marketNo" id="marketNo" value="${marketNo}">
        <input type="hidden" name="reporter" id="reporter" value="${reporter}">
        <button type="button" class="btn btn-sm btn-outline-primary ml-4" onclick="rep();" style="width:200px; float: right; background-color: #4f5665; font-weight: bold; color: #fff; height: 50px; border-radius: 15px; margin-right: 10px; font-size: 20px;" >신고</button>
    </div>
<script>
    function rep(){
        var marketNo = $("#marketNo").val();
        var reporter = $("#reporter").val();
        var reason = $("#reason").val();

        $.ajax({
            type: "POST",
            url: "/report/reportPro",
            data: { marketNo: marketNo, reporter: reporter, reason: reason },
            success: function(success) {
                alert("게시글을 신고하였습니다.");
                window.close();

            },
            error: function(error) {
                alert("신고 처리 중 오류가 발생했습니다. 다시 시도해주세요.");
            }
        });
    }
</script>
</div>
</body>
</html>